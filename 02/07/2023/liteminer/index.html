<!DOCTYPE html>
<html lang="en">

<head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css">
<!-- hexo injector head_begin end -->
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Xingjian Hao">


    <meta name="subtitle" content="It's Xingjian Hao's Personal Website">




<title>Liteminer - Your Crypto Mining Crew | Xingjian Hao</title>



    <link rel="icon" href="/image/Moai.png">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<!-- hexo injector head_end start --><style type="text/css">span[class="simple-icon"]{width:1.2rem;height:1.2rem;display:inline-block}span[class="simple-icon"] svg,img{display:inline-block;vertical-align:middle;height:inherit;width:inherit}</style><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Xingjian&#39;s Studio</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Xingjian&#39;s Studio</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // 为 6 时展开所有
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // 这个值是由 tocbot 源码里定义的 scrollSmoothDuration 得来的
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Liteminer - Your Crypto Mining Crew</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Xingjian Hao</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">February 7, 2023&nbsp;&nbsp;16:04:00</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Software-Development/">Software Development</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <p> Many cryptocurrencies use a distributed consensus protocol to ensure security and authority. In this project I implemented a peer-to-peer networking and proof of work mechanism. In the case of cryptocurrencies, nodes are miners which may drop in and out of the network for various reasons: a miner may crash (or reboot), or a new miner may be added. These changes to the network happen in an unscheduled and unpredictable manner and special care must therefore be taken to ensure that no information is lost.</p>
<span id="more"></span>

<h1 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h1><div style="text-align: center">
  <div class="github-card"
    data-user="PTJohn0122"
    data-repo="liteminer-xhao9-yli195"
    data-height="200"
    data-width="400"
    data-theme="default"
    data-target=""
    data-client-id=""
    data-client-secret=""
  ></div>
</div>
<script src="/github-card-lib/githubcard.js"></script>

<h3 id="Due-to-ethical-consideration-this-repo-will-remain-private-util-the-end-of-Spring-2023-semester"><a href="#Due-to-ethical-consideration-this-repo-will-remain-private-util-the-end-of-Spring-2023-semester" class="headerlink" title="* Due to ethical consideration, this repo will remain private util the end of Spring 2023 semester"></a>* Due to ethical consideration, this repo will remain private util the end of Spring 2023 semester</h3><p>Motivated by the hash function within boundaries. By distributing the calculation workload, the eventual proof-of-work is ensured by the key value with largest hash. Since the system required multi-threading and parallel computing, we used Atomic and mutex locks to prevent race condition. Atomic vars are used to protect simple types such as bool, int, string, while mutexes are used to protect maps, slices, and customized structs. </p>
<img src="/02/07/2023/liteminer/liteminer_structure.png" class="" title="[pic 1: Structure of liteminer]">

<h2 id="Proof-of-Work"><a href="#Proof-of-Work" class="headerlink" title="Proof of Work"></a>Proof of Work</h2><p>In cryptocurrencies like Bitcoin, blocks which contain a collection of transactions are constantly created and validated by network participants that perform a computationally intensive task. This is often referred to as proof of work. A common proof of work scheme involves finding a number referred to as a nonce that when concatenated to a string and hashed results in a new string that has a certain property. In Bitcoin, the proof of work entails finding the nonce that, when concatenated with the transaction data and hashed, results in a string that starts with a series of zeros. </p>
<p>The fundamental insight is that doing the work to find such a nonce is computationally expensive and requires a lot of resources; therefore, in order to “cheat” the system, <a target="_blank" rel="noopener" href="https://www.coindesk.com/learn/what-is-a-51-attack/">one needs to have more resources than all other participants combined</a>. </p>
<h2 id="Miner"><a href="#Miner" class="headerlink" title="Miner"></a>Miner</h2><p>In a cryptocurrency network, we refer to a miner as a worker that attempts to verify transactions by performing proof of work. Given a financial transaction encoded as a string M and an unsigned integer N, a miner will need to find the nonce between 0 and N, inclusive, that, when concatenated with M and hashed, results in the lowest hash value. </p>
<h2 id="Pool"><a href="#Pool" class="headerlink" title="Pool"></a>Pool</h2><p>A pool is a collection of multiple miners and is responsible for distributing the work amongst its miners. It will also handle top-level logic and communications for a client. A pool and its corresponding miners have the following properties:</p>
<ul>
<li>The pool must take client requests and shard these requests (distribute the work) across all of its miners.</li>
<li>The pool must keep track of the miners under its control and allow miners to come and go at will.</li>
<li>The pool must aggregate miner responses and return the proof of work to the client.</li>
</ul>
<p>In a centralized system, this process can take a considerable amount of time. In a distributed system, you will be able to divide up the work, but you must take care when dealing with faulty miners (i.e., miners that drop in and out). Our pool takes a channel to marking the waiting mining tasks and to prevent the conflict of concurrent accessing by its FIFO characteristic. When a node is lost, the task will be return to the queue and wait for a new miner to grab. Only when alsl tasks in the channel are taken and all nonces are collect will the pool return a final proof-of-work. The miner will remain alive and waiting for the next mining task from the pool.</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Xingjian Hao</span>
                    </p>
                
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Distributed-System/"># Distributed System</a>
                    
                        <a href="/tags/Cryptocurrency/"># Cryptocurrency</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/02/25/2023/modist/">Modist - a Safer Partitioning Option</a>
            
            
            <a class="next" rel="next" href="/12/13/2022/autoMIDI/">AutoMIDI - GAN based Jazz Music Generator</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Xingjian Hao | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>

</html>